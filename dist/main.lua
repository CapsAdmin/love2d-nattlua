_G.IMPORTS = _G.IMPORTS or {}
IMPORTS['src/love_api.nlua'] = assert(loadstring([=======[ return function()     
   
  
	
	 
	 
	 
	 
	 
	 
  
	
	 
	 
	 
	 
	 
	 
	 
  
	
	 
	 
	 
  
	
	 
	 
  
	
	 
	 
  
	
	 
  
	
	 
	 
	 
  
	
	 
  
	
	 
  
	
	 
	 
	 
	 
	 
  
	
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
  
	
	 
	 
  
	
	 
  
	
	 
	 
	 
  
	
	 
	 
	 
  
	
	 
	 
	 
  
	
	 
	 
	 
  
	
	 
	 
  
	
	 
	 
	 
	 
	 
  
	
	 
  
	
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
  
	
	 
	 
	 
	 
	 
	 
	 
  
	
	 
	 
  
	
	 
  
	
	 
  
	
	 
	 
	 
	 
	 
	 
	 
  
	
	 
	 
	 
	 
	 
	 
	 
  
	
	 
  
	
	 
	 
  
	
	 
  
	
	 
	 
	 
  
	
	 
	 
  
	
	 
	 
  
	
	 
	 
  
	
	 
  
	
	 
	 
	 
	 
	 
  
	
	 
	 
	 
  
	
	 
  
	
	 
  
	
	 
	 
	 
  
	
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
  
	
	 
	 
	 
  
	
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
  
	
	 
	 
	 
	 
	 
  
	
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
  
	
	 
	 
	 
	 
	 
	 
	 
	 
  
	
	 
	 
  
	
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
  
	
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
  
	
	 
  
	
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
  
	
	 
	 
  
	
	 
	 
	 
	 
	 
	 
	 
	 
  
	
	 
	 
	 
  
	
	 
	 
	 
	 
  
	
	 
	 
	 
	 
  
	
	 
	 
  
	
	 
	 
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   

   
   
    

   
   
   
   
   
   
   
   
             
   

   
   
   
   
    
   
     
     
      
                
               
   
   
     
   
   
     
   
    
   
   
   
   
   
    
       
    
     
        
      
                     
                
    
    
      
      
    
      
    
     
   
      

   

   
   

   

   
   
    
    
   
   
   
   
   
   
     
              
    
        
   
             

   
   
   

   
   
    
      
    
   
   
   
   
   

   
   
   
   
   
     
   
   
            

   
   
   
   
           
    

   

   
   
   
   
   
     
   
       
   
    
      
        
     
        
    

   
   
   
               

   
             
             
    
   
    
   
             
       
   
   
   
    
     
    
     
    
                                               
        
         
                                

   
   
    
   
              
   
   
       
   
   
   
      
    
    
    
    
   
    
    
   
     
    
     
   
   
    
   
   
   
   
   
     
   
   
    
               
    
            
    
    
    
           
       
     
       
     
      
       
    
       
    
      
       
       
    
    
       
    
   
   
    

   
    
      
         

   
   
    
                                               
      

   
                                                  
                                                                 
     
   
   
   
      
   
   
                                                    
         
     
                                                                     
    

   
                                                                          
                                                                      
   
      
   
    
    
                    
    
                        

   
   
   
     
    
     
   
   
   
   
    
    
   
   
   
   
     
   
    
        
       
          

   
    
     
   
   
   
   
   
   
   
   
    
        
      
   

   
      
   
    
   
    

   
          
    
   
        
   
                
          
         
   

   
     
    
   
   
     
   
    
         
   
    
   
    
   
    
   
    
   
    
   
          

   
     
     
   
   
   
     
        
    
      
        
          
          
      
     

   
    
   
      
         
      
    

   
    
   
      
   
      
   
   
    
       
                
                          
     
      
     

   
   

   
    
         
         
    
   
   
   
   
   
   
   
   
   
   
    
      
      
    
      
            
      
   
      
    
     
   
   
   
    
      
          
      
   
   
   
   
   
   
   
   
    
   
    
    
    
    
    
    
    
    
    
    
     
    
       
     
    
      
    
    
    
    

   
    
    
     
      
    
   
     
     

   
    
   
     
    

   
    
    
   
    
      
   
   
   
   
   
    
    
    

   
   
   
   
    
    
    

   
    
      
    
     
     

   
   
   
         
    
   
     
   
   
    
      
   
   
   
   
   
             
     
    
      
    
    
     
    
    
    
     

   
   
   
    
    

   
    
   
    

   
   
      
    
   
     
    
   
   
   
    

   
   
    
    
     

   
   
   
   
    
    
    
    
     

   
      

   
   
    
   
   
    
   
   
    
   
   
   
   
     
   
    
    
    
    
    

   
   
      
   
   
    
   
    
     
    

   
   
   
   
    
   
   
   
   
   
   
   
   
     
    
    
    
    
    
    

   
   
    

   
            
       
   
   
   
                
        

   
   
   
   
    
    

   
    
   
   
   
   
    
   
   
   
    
    
    
    
    

   
   
   
   
      
   
   
   
    
   
   
   
   
   
        
         
       
    
     
    
     
          

   
   
   
   
   
   
   
    

   
   
   
   
      
   
   
        

   
   
    
   
    
   
       
   
    
      

   
   
   
      
   

   
   
   
   
   
   
    
   

      

   

     

   

                                                                                                                                                                                                                                        

   

    

   

   

   

   

     

    

    

   

     

     

    

    

   

      

    

    

   

   

       

       

       

   

    

   

     

   

    

        

        

        

   

   

    

   
   
   
   
   
   
   
   
    
     
   
   
     
   
   
        
       
    
     
   
   
              
   
    
     
     
   
     

   
                 
           
              
                 
   
     
         
     
                
                               

   
   
   
   
                        
     
          

   
             
   
   
   
   
    
   
                                    
   
   
   
   
   
   
   
   
   
   
    
                
     
      
                  
   
   
   
   
   
   
   
             

   
           
    
          
                                     
                             

   
   
                    
   
          
                       
           
                                                         
                                 
                                                                 
            
   
      
    
   
   
      
      
   
     
    
    
   
   
   
   
   
   
   
   
    
   
   
   
      
      
   
   
                                                   
    
   
   
   
   
      
     
   
   
   
       
                     
                                                                 
                             
                   
                                                                   
       
                                                                   
         
        
    
                  
      
                    
                
   
                
     
   
   
                                                                                                            
                                                                                                                                                                                                 
   
                  
   
   
   
      
        
      
                                
        
      
       
    
   
   
   
   
   
   
              
   
      
   
    
   
    
            
     
    
        

   
   
   
             

   
   
   
   
   
   
               

   
   
   
   
   
   
    
    
   
       

   
           
           
               
     
         
    
   
        
         
        
    
                         
         
    
        
    
   
        

   
   
    
   
   
   
   
   
    
   
   
                     
   
   
    
   
   
   
   

   
        
   
            
         
     
           
      
       
                 
          
              
     
         
                                  
                  
          
                    
            
                            
                     
           
   

   
         
            

   
   
   
     
   
   
   
   
     

   
   
   
   

   
   
   
   
   
   
   

   
    
   
   

   
   

   
   
     
   
      
   
     
     
    
     
   
                                                  
     
      
   
   
   
   
   
   
   
   
   
   
   
     
   
   
    
   
                                                                                          
       
   
   
                  
     
                                            

   
        
           
              
        
    
return love end ]=======], '@src/love_api.nlua'))()
IMPORTS['src/event.nlua'] = assert(loadstring([=======[ return function() 

local love_events = {
	"displayrotated",
	"draw",
	"errorhandler",
	"load",
	"lowmemory",
	"quit",
	--"run",
	"threaderror",
	"update",
	"directorydropped",
	"filedropped",
	"focus",
	"mousefocus",
	"resize",
	"visible",
	"keypressed",
	"keyreleased",
	"textedited",
	"textinput",
	"mousemoved",
	"mousepressed",
	"mousereleased",
	"wheelmoved",
	"gamepadaxis",
	"gamepadpressed",
	"gamepadreleased",
	"joystickadded",
	"joystickaxis",
	"joystickhat",
	"joystickpressed",
	"joystickreleased",
	"joystickremoved",
	"touchmoved",
	"touchpressed",
	"touchreleased",
}

    
	  
	  
	  
	    
	    
	    


local event = {}

local function llog(str, ...)
	print("[event]", str:format(...))
end

    

  
	  


for _, event_type in ipairs(love_events) do
	 
end

event.active = {}
event.destroy_tag = {}
event.fix_indices = {}

local function sort_events()
	for key, tbl in pairs(event.active) do
		local new = {}
		for _, v in pairs(tbl) do table.insert(new, v) end
		table.sort(new, function(a, b) return a.priority > b.priority end)
		event.active[key] = new
	end
end

      
	
	
	


function event.AddListener(config)
	 

	config.priority = config.priority or 0

	-- useful for initialize events
	if config.id == nil then
		config.id = {}
		config.remove_after_one_call = true
	end

	event.RemoveListener(config)

	event.active[config.event_type] = event.active[config.event_type] or {}

	table.insert(event.active[config.event_type], config)

	sort_events()
end


function event.RemoveListener(config)
	if not event.active[config.event_type] then return end
	for index, val in pairs(event.active[config.event_type]) do
		if config.id == val.id then
			event.active[config.event_type][index] = nil

			event.fix_indices[config.event_type] = true

			break
		end
	end
end


local function fixindices(tbl)
	local temp = {}

	for k, v in pairs(tbl) do
		table.insert(temp, {v = v, k = tonumber(k) or 0})
		tbl[k] = nil
	end

	table.sort(temp, function(a, b) return a.k < b.k end)

	for k, v in ipairs(temp) do
		tbl[k] = v.v
	end

	return temp
end

function event.Call(event_type, a_, b_, c_, d_, e_)
	local status
	local a,b,c,d,e
	local events = event.active[event_type]
	if events then
		for index = 1, #events do
			local data = events[index]
			if not data then break end

			status, a,b,c,d,e = xpcall(data.callback, data.on_error or print, a_, b_, c_, d_, e_)

			if a == event.destroy_tag or data.remove_after_one_call then
				event.RemoveListener(data)
			else
				if status == false then
					if type(data.on_error) == "function" then
						data.on_error(a, data)
					else
						event.RemoveListener(data)
						llog("[%q][%q] removed", data.event_type, data.id)
					end
				end

				if a ~= nil then
					return a,b,c,d,e
				end
			end
		end

		if event.fix_indices[event_type] then
			fixindices(events)
			event.fix_indices[event_type] =  nil
			sort_events()
		end
	end

end

for _, event_type in ipairs(love_events) do
	love[event_type] = function(...) return event.Call(event_type, ...) end
end


return event
 end ]=======], '@src/event.nlua'))()
IMPORTS['src/hot_reload.nlua'] = assert(loadstring([=======[ return function() local function get_last_modified()
	return love.filesystem.getInfo("main.lua").modtime
end

local last_modified = get_last_modified() 


local function check()
	if last_modified == get_last_modified() then return end
	print("modified!", last_modified, get_last_modified())
	event.RemoveListener({event_type = "update", id = "hot-reload"})
	os.execute("nattlua run &")
	os.exit()
	-- in case something goes wrong
end

local last_check = love.timer.getTime()

event.AddListener({
	event_type = "update",
	id = "hot-reload",
	callback = function(dt) 
		if last_check > love.timer.getTime() then return end
		last_check = love.timer.getTime() + 0.1
		check() 
	end,
}) end ]=======], '@src/hot_reload.nlua'))()
IMPORTS['src/preinit.nlua'] = assert(loadstring([=======[ return function() print("preinit") end ]=======], '@src/preinit.nlua'))()
IMPORTS['src/game/world.nlua'] = assert(loadstring([=======[ return function() 
love.physics.setMeter(64) 
local world = love.physics.newWorld(0, 0, true)

return world end ]=======], '@src/game/world.nlua'))()
IMPORTS['src/game/dog.nlua'] = assert(loadstring([=======[ return function()       

local Dog = {}
Dog.__index = Dog

   

   
	  
	  
	  


    

function Dog:Update(dt)

end

function Dog:Draw()
	love.graphics.setColor(0.76, 1, 0.05)
	love.graphics.circle("fill", self.body:getX(), self.body:getY(), self.shape:getRadius())
end

function Dog.New()
	local body = love.physics.newBody(_G.physics_world, 650/2, 650/2, "dynamic")
	local shape = love.physics.newCircleShape( 20)
	local fixture = love.physics.newFixture(body, shape, 1)
	fixture:setRestitution(0.9)

	return setmetatable({
		body = body,
		shape = shape,
		fixture = fixture,
	}, Dog)
end

return Dog

 end ]=======], '@src/game/dog.nlua'))()
IMPORTS['src/game/init.nlua'] = assert(loadstring([=======[ return function() _G.physics_world = IMPORTS['src/game/world.nlua']("./world.nlua")

local Dog = IMPORTS['src/game/dog.nlua']("./dog.nlua")

local dog = Dog.New()

love.graphics.setBackgroundColor(1, 1, 1)

event.AddListener({
    event_type = "draw",
    id = "draw",
    callback = function() 
        dog:Draw()
    end,
})

event.AddListener({
    event_type = "update",
    id = "update",
    callback = function(dt) 
        _G.physics_world:update(dt)
        dog:Update(dt)
    end,
})

_G.refs = {dog} end ]=======], '@src/game/init.nlua'))()
IMPORTS['src/main.nlua'] = assert(loadstring([=======[ return function()               
   

_G.event = IMPORTS['src/event.nlua']("./event.nlua")
IMPORTS['src/hot_reload.nlua']("hot_reload.nlua")
IMPORTS['src/preinit.nlua']("./preinit.nlua")

function love.load()
	IMPORTS['src/game/init.nlua']("./game/init.nlua")
end

print("LOADED") end ]=======], '@src/main.nlua'))()
			return IMPORTS['src/main.nlua']("./main.nlua")
		